buildscript {
  repositories {
    mavenCentral()
    jcenter()
  }
  dependencies {
    classpath 'com.netflix.nebula:nebula-release-plugin:4.1.1'
//    classpath 'com.netflix.nebula:nebula-bintray-plugin:3.5.2'
    classpath 'com.bmuschko:gradle-nexus-plugin:2.3.1'
    classpath "io.codearte.gradle.nexus:gradle-nexus-staging-plugin:0.5.3"
  }
}

group = 'me.drmaas'

apply plugin: 'idea'
apply plugin: 'nebula.nebula-release'
apply plugin: 'io.codearte.nexus-staging'
apply plugin: 'java-library'
apply plugin: 'groovy'
//  apply plugin: "nebula.nebula-bintray"
apply plugin: 'com.bmuschko.nexus'

apply from: 'dependencies.gradle'

repositories {
  mavenLocal()
  mavenCentral()
  jcenter()
}

dependencies {
  compile commonDependencies.ratpack
  compile commonDependencies.resilience4j

  testCompile commonDependencies.groovy
  testCompile commonDependencies.spock
  testCompile commonDependencies.ratpackGroovyTest
  testCompile commonDependencies.logback
}

modifyPom {
  project {
    name 'Ratpack resilience4j library'
    description 'Ratpack resilience4j library'
    url 'https://github.com/drmaas/ratpack-resilience4j'
    inceptionYear '2017'

    scm {
      url 'https://github.com/drmaas/ratpack-resilience4j'
      connection 'scm:https://drmaas@github.com/drmaas/ratpack-resilience4j.git'
      developerConnection 'scm:git://github.com/drmaas/ratpack-resilience4j.git'
    }

    licenses {
      license {
        name 'The Apache Software License, Version 2.0'
        url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
        distribution 'repo'
      }
    }

    developers {
      developer {
        id 'drmaas'
        name 'Dan Maas'
        email 'drmaas@gmail.com'
      }
    }
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '3.4.1'
}
